{"version":3,"sources":["MeasureValue.js"],"names":["define","langx","layout","MeasureType","MeasureUnit","MeasureValue","klass","klassName","mtype","get","this","_","set","t","auto","unit","value","percent","u","v","clone","notEqual","m","equal","toString","min","max","mid","_construct","type","props","undefined","fromNumber","n","px","fromString","s","units","map","item","getText","concat","i","length","indexOf","parseInt","substring","fromPlain","o","fromArray","a"],"mappings":"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","file":"../MeasureValue.js","sourcesContent":["define([\r\n\t\"skylark-langx/langx\",\r\n\t\"./layout\",\r\n\t\"./MeasureType\",\r\n\t\"./MeasureUnit\"\r\n],function(langx,layout,MeasureType,MeasureUnit) {\r\n\r\n\tvar MeasureValue = langx.klass({\r\n\t\t\"klassName\"\t:\t\"MeasureValue\",\r\n\r\n\t\t\"mtype\" : {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.mtype;\r\n\t\t\t},\r\n\t\t\tset : function(t) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t_.mtype = t;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase MeasureType.auto :\r\n\t\t\t\t\t\t_.unit = null;\r\n\t\t\t\t\t\t_.value = null;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase MeasureType.percent :\r\n\t\t\t\t\t\t_.unit = null;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"unit\" : {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.unit;\r\n\t\t\t},\r\n\r\n\t\t\tset : function(u) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t\tt = _.mtype;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase MeasureType.unit :\r\n\t\t\t\t\t\t_.unit = u;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"value\" : {\r\n\t\t\tget : function(){\r\n\t\t\t\treturn this._.value;\r\n\t\t\t},\r\n\t\t\tset : function(v) {\r\n\t\t\t\tvar _ = this._;\r\n\t\t\t\t\tt = _.mtype;\r\n\t\t\t\tswitch (t) {\r\n\t\t\t\t\tcase MeasureType.unit :\r\n\t\t\t\t\tcase MeasureType.percent :\r\n\t\t\t\t\t\t_.value = v;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t\"clone\"\t: function(){\r\n\t\t\tvar _ = this._;\r\n\t\t\treturn new MeasureValue(_.mtype,_.unit,_.value);\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\"notEqual\"\t:\tfunction(/*Measure*/m) {\r\n\t\t\treturn !m || m.mtype != this.mtype || m.unit != this.unit || m.value != this.value;\r\n\t\t},\r\n\t\t\r\n\t\t\"equal\"\t:\tfunction(/*Measure*/m){\r\n\t\t\treturn  !this.notEqual(m);\r\n\t\t},\r\n\r\n\t\t\"toString\" : function(){\r\n\t\t\tswitch (this.mtype) {\r\n\t\t\t\tcase MeasureType.auto :\r\n\t\t\t\tcase MeasureType.min :\r\n\t\t\t\tcase MeasureType.max :\r\n\t\t\t\tcase MeasureType.mid :\r\n\t\t\t\t\treturn this.mtype.toString();\r\n\t\t\t\tcase MeasureType.unit :\r\n\t\t\t\t\treturn this.value + this.unit.toString();\r\n\t\t\t\tcase MeasureType.percent :\r\n\t\t\t\t\treturn this.value + \"%\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\t\r\n\t\t\r\n\t\t\"_construct\"\t: function(type,value,unit){\r\n\t\t\tvar props = {};\r\n\t\t\tif (type != undefined) {\r\n\t\t\t\tprops.mtype = type;\r\n\t\t\t}\r\n\t\t\tif (value != undefined) {\r\n\t\t\t\tprops.value = value;\r\n\t\t\t}\r\n\t\t\tif (unit != undefined) {\r\n\t\t\t\tprops.unit = unit;\r\n\t\t\t}\r\n\t\t\tthis._ = props;\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tMeasureValue.fromNumber = function(n) {\r\n        return new MeasureValue(MeasureType.unit,n,MeasureUnit.px);\r\n\t};\r\n\t\r\n\tMeasureValue.fromString = function(s) {\r\n\t\tif (s==\"auto\"){\r\n\t\t\treturn MeasureValue.auto;\r\n\t\t}\r\n\r\n\t\tif (s==\"min\"){\r\n\t\t\treturn MeasureValue.min;\r\n\t\t}\r\n\r\n\t\tif (s==\"max\"){\r\n\t\t\treturn MeasureValue.max;\r\n\t\t}\r\n\r\n\t\tif (s==\"mid\"){\r\n\t\t\treturn MeasureValue.mid;\r\n\t\t}\r\n\r\n\t\tvar units = MeasureUnit.map(function(item){\r\n\t\t\t\treturn item.getText();\r\n\t\t\t}).concat(\"%\"),\r\n\t\t\ttype,\r\n\t\t\tvalue,\r\n\t\t\tunit;\r\n        for (var i = 0; i < units.length; i++) {\r\n            if (s.indexOf(units[i]) != -1) {\r\n                value = parseInt(s.substring(0, s.length - units[i].length),10);\r\n                if (units[i] == \"%\") {\r\n                \ttype = MeasureType.percent;\r\n                } else {\r\n                \ttype = MeasureType.unit;\r\n                \tunit = MeasureUnit.fromString(units[i]);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        return new MeasureValue(type,value,unit);\r\n\t};\r\n\r\n\tMeasureValue.fromPlain = function(o) {\r\n\t\treturn new MeasureValue(o.mtype,o.value,o.unit);\r\n\t};\r\n\r\n\tMeasureValue.fromArray = function(a) {\r\n\t\treturn new MeasureValue(a[0],a.length>1?a[1]:\"undefined\",a.length>1?a[2]:undefined);\r\n\t};\r\n\r\n\tMeasureValue.auto = new MeasureValue(MeasureType.auto);\r\n\tMeasureValue.mid = new MeasureValue(MeasureType.mid);\r\n\tMeasureValue.min = new MeasureValue(MeasureType.min);\r\n\tMeasureValue.max = new MeasureValue(MeasureType.max);\r\n\r\n\treturn layout.MeasureValue = MeasureValue;\r\n\t\r\n});\t\r\n"]}